(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{1089:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,554,23)),Promise.resolve().then(a.bind(a,8298))},6046:(e,r,a)=>{"use strict";var t=a(6658);a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(r,{useSearchParams:function(){return t.useSearchParams}})},8298:(e,r,a)=>{"use strict";a.d(r,{default:()=>f});var t=a(5155),s=a(320),i=a.n(s),l=a(6046),n=a(2543),o=a(5828);let u=(0,o.createServerReference)("402e08fa5ca5f79ed844eb33f6e3b2777713e1049e",o.callServer,void 0,o.findSourceMapURL,"default");var m=a(2115),d=a(3391),c=a(57);function f(){let e=(0,l.useRouter)(),r=(0,l.useSearchParams)(),[a,s]=(0,m.useState)({isError:!1,msg:""}),o=(0,d.wA)();async function f(a){var t,i,l,m;a.preventDefault(),s({isError:!1,msg:""});let{user:d}=await (0,n.q)();if(d){e.push("/"),s({isError:!0,msg:"You're already logged in"});return}let f=new FormData(a.target),g={firstName:null===(t=f.get("firstName"))||void 0===t?void 0:t.toString().toLowerCase().trim(),lastName:null===(i=f.get("lastName"))||void 0===i?void 0:i.toString().toLowerCase().trim(),email:null===(l=f.get("email"))||void 0===l?void 0:l.toString().toLowerCase().trim(),password:null===(m=f.get("password"))||void 0===m?void 0:m.toString().toLowerCase().trim()};if(!g||!g.firstName&&!g.lastName&&!g.email&&!g.password){s({isError:!0,msg:"Please fill in the form"});return}if(!g.firstName||g.firstName.length>60||g.firstName.length<2){s({isError:!0,msg:"Please enter a valid first name"});return}if(!g.lastName||g.lastName.length>60||g.lastName.length<2){s({isError:!0,msg:"Please enter a valid last name"});return}if(!g.email||g.email.length>255||g.email.length<4||!g.email.includes("@")||!g.email.includes(".")){s({isError:!0,msg:"Please enter a valid email"});return}if(!g.password||g.password.length>255||g.password.length<8){s({isError:!0,msg:"Please enter a stronger password"});return}let p=await u({firstName:"".concat(g.firstName.trim()),lastName:"".concat(g.lastName.trim()),email:"".concat(g.email.trim()),password:"".concat(g.password)});if(!p){s({isError:!0,msg:"An error occurred"});return}if(!p.success){let e=p.msg;if(p.msg.includes("Invalid"))e="Please enter a valid ".concat(p.msg.split("Invalid ")[1]);else switch(p.msg){case'duplicate key value violates unique constraint "users_email_key"':case'duplicate key value violates unique constraint "users_slug_key"':e="A user already exists with that email";break;default:e=p.msg}s({isError:!0,msg:e});return}let v=null===r.get("redirect")?"/profile":r.get("redirect");e.push(v||"/profile"),o((0,c.gV)(p.user))}return(0,t.jsxs)("form",{onSubmit:f,className:i().form,children:[(0,t.jsx)("input",{name:"firstName",type:"text",placeholder:"First name"}),(0,t.jsx)("input",{name:"lastName",type:"text",placeholder:"Last name"}),(0,t.jsx)("input",{name:"email",type:"text",placeholder:"Email"}),(0,t.jsx)("input",{name:"password",type:"text",placeholder:"Password"}),(0,t.jsx)("button",{children:"Signup"}),a.isError&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{children:"Error!"}),(0,t.jsxs)("p",{children:[" ",a.msg," "]})]})]})}},57:(e,r,a)=>{"use strict";a.d(r,{Ay:()=>u,TK:()=>n,gV:()=>l,lM:()=>o});var t=a(8943);let s={id:0,firstName:"",lastName:"",email:"",slug:"",createdAt:null,avatar:6,avatar_url:"/images/public/avatars/orange.png",tags:[],hireable:null,onboarding:null,about:"",followersCount:0,followingCount:0,followers:[],followed:[],experience:[]},i=(0,t.Z0)({name:"user",initialState:s,reducers:{setUser:(e,r)=>({...r.payload}),updateUser:(e,r)=>({...e,...r.payload}),clearUser:()=>s}}),{setUser:l,updateUser:n,clearUser:o}=i.actions,u=i.reducer},320:e=>{e.exports={form:"signupForm_form__EmjA4"}},2543:(e,r,a)=>{"use strict";a.d(r,{q:()=>s});var t=a(5828);let s=(0,t.createServerReference)("7f5f553b95b32f91fbfa62b02a301ed5755c7b9bb6",t.callServer,void 0,t.findSourceMapURL,"getCurrentSession")}},e=>{var r=r=>e(e.s=r);e.O(0,[603,173,391,92,441,517,358],()=>r(1089)),_N_E=e.O()}]);