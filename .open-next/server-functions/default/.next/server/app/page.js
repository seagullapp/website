(()=>{var e={};e.id=974,e.ids=[974],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},42449:e=>{"use strict";e.exports=require("pg")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},19342:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var t=r(70260),a=r(28203),n=r(25155),i=r.n(n),d=r(67292),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(s,o);let l=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,61377)),"/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/src/app/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},79392:(e,s,r)=>{"use strict";r.r(s),r.d(s,{"001ceca995e446d8feebb36954bff66df1af521413":()=>n.m,"401af72ff7f7d55f51261b404620916ec184026e28":()=>u.A,"401c375d175b3bc04c185da96fc99497d2f03fc5ff":()=>c.A,"404d2a60c440802fda175063cb62a4ab50ddfb22da":()=>d.A,"408ca83da2a7494c7a7781ffd9ab611ba56ee51811":()=>l.A,"40f6de09ec2822252f3fdfc0bb278e4ae125d2c60a":()=>a.d,"40f8f2f090ca352e6b95c38277e385fc1dd79b6b94":()=>o.A,"6098242062054845d9c23bff0445dbf4ba7b3e57ee":()=>n.P,"60c448cf360e41d7f8ac8c944614f59edb8e5c9841":()=>p.A,"60d1f6e8477b5a8c6b0fdcae07b94e02c8d4cb1269":()=>f.A,"60e17cb2baeee781bd9da0356c33ad975f46aaf1c0":()=>i.A,"7f5f553b95b32f91fbfa62b02a301ed5755c7b9bb6":()=>t.q});var t=r(18482),a=r(21337),n=r(76109),i=r(71807),d=r(42734),o=r(50679),l=r(18251),c=r(89321),u=r(91278),p=r(49695),f=r(81790)},34693:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,59607,23))},28613:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,28531,23))},59607:(e,s,r)=>{let{createProxy:t}=r(73439);e.exports=t("/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/node_modules/next/dist/client/app-dir/link.js")},61377:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>o});var t=r(62740),a=r(59607),n=r.n(a),i=r(31831),d=r(18482);async function o(){let{user:e}=await (0,d.q)();return null===e?(0,i.redirect)("/signup"):(0,t.jsx)("div",{className:"wrapper",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)(n(),{href:"/signup",children:"signup"}),(0,t.jsx)(n(),{href:"/login",children:"login"}),(0,t.jsx)(n(),{href:"/profile",children:"profile"})]})})}},18482:(e,s,r)=>{"use strict";r.d(s,{q:()=>o});var t=r(88977);r(98063);var a=r(44512),n=r(76301),i=r(21337),d=r(56215);let o=(0,n.cache)(async()=>{let e=await (0,a.UL)(),s=e.get("session")?.value??null;return null===s?{session:null,user:null}:await (0,i.d)(s)});(0,d.D)([o]),(0,t.A)(o,"7f5f553b95b32f91fbfa62b02a301ed5755c7b9bb6",null)},21337:(e,s,r)=>{"use strict";r.d(s,{d:()=>o});var t=r(88977);r(98063);var a=r(76109),n=r(64397),i=r(8147),d=r(71807);async function o(e){let s=(0,n.tO)((0,i.sc)(new TextEncoder().encode(e))),r=await (0,a.P)(`
        SELECT 
            s.id AS session_id, 
            s.user_id, 
            s.created_at AS session_created_at, 
            s.expires_at,
            u.slug
        FROM user_sessions s
        INNER JOIN users u
            ON u.id = s.user_id 
        WHERE s.id = $1`,[s]);if(!r||0===r.rowCount)return{session:null,user:null};let t=r.rows[0],o=await (0,d.A)(t.slug,!0);if(!o.success||!o.user)return{session:null,user:null};let l={id:t.session_id,userId:t.user_id,createdAt:new Date(t.session_created_at.toISOString()),expiresAt:new Date(t.expires_at.toISOString())},c=new Date(l.expiresAt);return Date.now()>=c.getTime()?(await (0,a.P)("DELETE FROM user_sessions WHERE id = $1",[l.id]),{session:null,user:null}):(Date.now()>=c.getTime()-2592e6&&(l.expiresAt=new Date(Date.now()+2592e6),await (0,a.P)("UPDATE user_sessions SET expires_at = $1 WHERE id = $2",[l.expiresAt,l.id])),{session:l,user:o.user})}(0,r(56215).D)([o]),(0,t.A)(o,"40f6de09ec2822252f3fdfc0bb278e4ae125d2c60a",null)}};var s=require("../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[638,246,77,635,512,819,436,382],()=>r(19342));module.exports=t})();