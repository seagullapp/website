exports.id=928,exports.ids=[928],exports.modules={56539:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,59607,23)),Promise.resolve().then(t.bind(t,34390)),Promise.resolve().then(t.bind(t,54296))},67155:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,28531,23)),Promise.resolve().then(t.bind(t,86114)),Promise.resolve().then(t.bind(t,1868))},86114:(e,s,t)=>{"use strict";t.d(s,{default:()=>u});var r=t(45512),a=t(58009),l=t(79334),n=t(28531),o=t.n(n),i=t(79886),c=t.n(i);function u({className:e,links:s}){(0,l.usePathname)();let[t,n]=(0,a.useState)(0);return(0,r.jsxs)("nav",{className:`wrapper ${e} ${c().tabs}`,children:[(0,r.jsx)("div",{className:"max-w-[800px] w-[100%] flex justify-between",children:s.map((e,s)=>(0,r.jsxs)("div",{className:"flex flex-col",onClick:()=>n(s),children:[(0,r.jsxs)(o(),{className:`pb-1 pt-8 ${c().link} ${t==s?c().active:""}`,href:e.href,children:[" ",e.text," "]}),(0,r.jsx)("div",{className:`${c().linkBottom} ${t==s?c().active:""}`})]},s))}),(0,r.jsx)("div",{className:`${c().bottom}`,children:" "})]})}},1868:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var r=t(45512),a=t(26248);let l=(0,a.createServerReference)("4013764e7b855cccaa7cda414c7a370b4c1903e7bf",a.callServer,void 0,a.findSourceMapURL,"default");var n=t(28531),o=t.n(n),i=t(92273),c=t(50520);let u=(0,a.createServerReference)("402a7edfca58b4630a014ba0800c40be42ffeda737",a.callServer,void 0,a.findSourceMapURL,"default");function d({followingId:e}){let s=(0,i.d4)(e=>e.user),t=(0,i.wA)();async function a(){if(!e||e===s.id||s.followed.filter(s=>s.followed_id==e).length>0||!(await l(e)).success)return;let r=[...s.followed,{follower:s.id,followed_id:e,id:e,followed_first_name:"",followed_last_name:"",followed_slug:"",followed_avatar:1,followed_avatar_url:"",created_at:new Date().toISOString()}];console.log(r),t((0,c.TK)({followed:r}))}async function n(){e&&e!==s.id&&!(s.followed.filter(s=>s.followed_id===e).length<=0)&&(await u(e)).success&&t((0,c.TK)({followed:[]}))}return s.id!==e?(0,r.jsx)(r.Fragment,{children:s.followed.filter(s=>s.followed_id===e).length?(0,r.jsx)("button",{onClick:n,className:"button red border pill",children:" Unfollow "}):(0,r.jsx)("button",{onClick:a,className:"button white pill",children:" Follow "})}):(0,r.jsx)(o(),{href:"/profile",className:"button blue",children:" Edit "})}},27573:e=>{e.exports={container:"user_container__U7n7M",userWidget:"user_userWidget__RnO8C"}},79886:e=>{e.exports={tabs:"Tabs_tabs__j3MYD",bottom:"Tabs_bottom__PvLkq",link:"Tabs_link__upRB_",active:"Tabs_active__dTqxD",linkBottom:"Tabs_linkBottom__MZtRU"}},32280:e=>{e.exports={avatar:"Avatar_avatar__NByA5"}},45871:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A,generateMetadata:()=>N});var r=t(62740),a=t(31831),l=t(27573),n=t.n(l);t(44994);var o=t(78934);function i({data:e,children:s,className:t}){let a=`
    ${e?.value?.trim()} 
    ${e?.value?.trim().toLowerCase()} 
    ${e?.value?.replaceAll("-"," ").trim().toLowerCase()}
    ${e?.value?.replaceAll("_"," ").trim().toLowerCase()}
    ${e?.value?.replaceAll("-","").trim().toLowerCase()}
    ${e?.value?.replaceAll("_"," ").trim().toLowerCase()}
    ${`${s}`.trim()} 
    ${`${s}`.trim().toLowerCase()} 
    ${`${s}`.replaceAll("-"," ").trim().toLowerCase()}
    ${`${s}`.replaceAll("."," ").trim().toLowerCase()}
    ${`${s}`.replaceAll("_"," ").trim().toLowerCase()}
    ${`${s}`.replaceAll("-","").trim().toLowerCase()}
    ${`${s}`.replaceAll("_"," ").trim().toLowerCase()}
    `.trim().replaceAll(","," ");return(0,r.jsxs)("div",{className:`Tag ${t} ${a} relative`,children:[s,(0,r.jsxs)("div",{className:"manage-buttons flex flex-col gap-[1px]",children:[t?.includes("deletable")&&(0,r.jsxs)("div",{className:"delete-button",children:[" ",(0,r.jsx)(o.RCe,{})," "]}),t?.includes("editable")&&(0,r.jsxs)("div",{className:"edit-button",children:[" ",(0,r.jsx)(o.F7,{})," "]})]})]})}function c({tags:e,className:s}){if(e.length)return(0,r.jsx)("div",{className:`flex flex-wrap gap-2 mt-2 ${s}`,children:e.map(e=>(0,r.jsxs)(i,{children:[" ",e.value," "]},e.id))})}function u({services:e,skills:s,about:t}){if(e.length||s.length)return(0,r.jsxs)("div",{className:"widget flex flex-col justify-between",children:[(0,r.jsxs)("div",{children:[e.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"subtitle grey mb-1",children:" Services "}),(0,r.jsx)(c,{tags:e})]}),s.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"subtitle grey mb-1 mt-3",children:" Skills "}),(0,r.jsx)(c,{tags:s})]})]}),t&&(0,r.jsx)("a",{className:"text-sm grey mt-2 underline cursor-pointer",children:"Learn more"})]})}var d=t(54296),f=t(91980),m=t(59607),w=t.n(m);function g({user:e}){return(0,r.jsxs)("div",{className:"flex gap-3 font-medium",children:[(0,r.jsxs)(w(),{href:`/user/${e.slug}/following`,className:"cursor-pointer hover:underline",children:[e.followingCount," following"]}),(0,r.jsxs)(w(),{href:`/user/${e.slug}/followers`,className:"cursor-pointer hover:underline",children:[e.followersCount," follower",1!==e.followersCount?"s":""]})]})}async function p({user:e}){let s=e.tags.filter(e=>e?.type==="label");return(0,r.jsx)("div",{className:`widget rounded ${n().userWidget}`,children:(0,r.jsxs)("div",{className:"flex justify-between items-end",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(f.A,{avatar_url:e.avatar_url,avatar:e.avatar,size:110}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"capitalize text-[24px]",children:[" ",e.firstName," ",e.lastName," "]}),(0,r.jsx)(g,{user:e}),(0,r.jsx)(c,{tags:s})]})]}),(0,r.jsx)(d.default,{followingId:e.id})]})})}var h=t(76301),x=t.n(h);function b({about:e}){if(e)return(0,r.jsxs)("div",{className:"widget",children:[(0,r.jsx)("h3",{className:"subtitle grey",children:"About"}),(0,r.jsx)("p",{children:e.split("\n").map((e,s)=>(0,r.jsxs)(x().Fragment,{children:[e.trim()," ",(0,r.jsx)("br",{})]},s))})]})}var v=t(34390);async function j({user:e}){e.tags.filter(e=>e?.type==="label");let s=e.tags.filter(e=>e?.type==="service"),t=e.tags.filter(e=>e?.type==="skill");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("header",{className:`container ${n().container}`,children:[(0,r.jsx)(p,{user:e}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 pt-4 gap-4",children:[(0,r.jsx)(u,{services:s,skills:t,about:!!e.about}),(0,r.jsx)(b,{about:e.about})]}),(0,r.jsx)(v.default,{className:"pb-8",links:[{href:`/user/${e.slug}`,text:"Home"},{href:`/user/${e.slug}/experience`,text:"Experience"},{href:`/user/${e.slug}/blogs`,text:"Blogs"},{href:`/user/${e.slug}/organizations`,text:"Organizations"},{href:`/user/${e.slug}/teams`,text:"Teams"}]})]})})}var _=t(71807),$=t(96856);async function N({params:e}){let s=(await e).user,t=await (0,_.A)(s);return t&&t.success&&t.user||(0,a.notFound)(),{title:`${(0,$.A)(t.user.firstName)} ${(0,$.A)(t.user.lastName)}`}}async function A({params:e,children:s}){let t=(await e).user,l=await (0,_.A)(t);l&&l.success&&l.user||(0,a.notFound)();let n=l.user;return(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)(j,{user:n}),s,(0,r.jsx)("div",{className:"pb-10"})]})}},34390:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/src/app/components/Tabs/Tabs.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/src/app/components/Tabs/Tabs.tsx","default")},91980:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(62740),a=t(32280),l=t.n(a);function n({avatar:e,avatar_url:s,size:t,className:a}){return(0,r.jsx)("img",{src:function(){let t=s;if(e<=6)switch(e){case 1:t="/images/public/yellow.svg";break;case 2:t="/images/public/blue.svg";break;case 3:t="/images/public/cyan.svg";break;case 4:t="/images/public/purple.svg";break;case 5:t="/images/public/green.svg";break;case 6:t="/images/public/orange.svg"}return t}(),alt:"Avatar",className:`${l().avatar} ${a&&a}`,width:t,height:t,style:{width:`${t}px`,height:`${t}px`}})}},54296:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/src/app/components/User/FollowButton/FollowButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/tahaparacha/Downloads/Coding/Main Projects/seagull/website/src/app/components/User/FollowButton/FollowButton.tsx","default")},98910:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(21590);t(70376);var a=t(13362),l=t(90559);async function n(e){if(!e)return{success:!1,msg:"Invalid ID",status:400};let s=await (0,l.q)();if(!s||!s.user||!s.session)return{success:!1,msg:"Sorry, you're not authenticated",status:403};if(s.user.id===e)return{success:!1,msg:"Sorry, you cannot follow yourself",status:400};try{let t=[e,s.user.id,new Date],r=await (0,a.P)(`
            INSERT INTO followers (followed, follower, created_at)
            VALUES ($1, $2, $3)
            ON CONFLICT DO NOTHING
        `,t);if(!r)throw"A database error occurred";if(console.log(r),0===r.rowCount)return{success:!1,msg:"Could not follow user",status:400};return{success:!0,status:200,msg:"User followed"}}catch(e){return{success:!1,msg:e?`${`${e}`.includes("error: ")?`${e}`.split("error: ")[1].trim():e}`:"A server error occurred",status:505}}}(0,t(99344).D)([n]),(0,r.A)(n,"4013764e7b855cccaa7cda414c7a370b4c1903e7bf",null)},64779:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(21590);t(70376);var a=t(13362),l=t(90559);async function n(e){if(!e)return{success:!1,msg:"Invalid ID",status:400};let s=await (0,l.q)();if(!s||!s.user||!s.session)return{success:!1,msg:"Sorry, you're not authenticated",status:403};if(s.user.id===e)return{success:!1,msg:"Sorry, you cannot unfollow yourself",status:400};try{let t=[s.user.id,e],r=await (0,a.P)(`
            DELETE FROM followers WHERE follower = $1 AND followed = $2
        `,t);if(!r)throw"A database error occurred";if(console.log(r),0===r.rowCount)return{success:!1,msg:"Could not unfollow user",status:400};return{success:!0,status:200,msg:"User unfollowed"}}catch(e){return{success:!1,msg:e?`${`${e}`.includes("error: ")?`${e}`.split("error: ")[1].trim():e}`:"A server error occurred",status:505}}}(0,t(99344).D)([n]),(0,r.A)(n,"402a7edfca58b4630a014ba0800c40be42ffeda737",null)},90559:(e,s,t)=>{"use strict";t.d(s,{q:()=>f});var r=t(21590);t(70376);var a=t(42385),l=t(23346),n=t(13362),o=t(64230),i=t(57647),c=t(71082),u=t(99344);async function d(e){let s=(0,o.tO)((0,i.sc)(new TextEncoder().encode(e))),t=await (0,n.P)(`
        SELECT 
            s.id AS session_id, 
            s.user_id, 
            s.created_at AS session_created_at, 
            s.expires_at,
            u.slug
        FROM user_sessions s
        INNER JOIN users u
            ON u.id = s.user_id 
        WHERE s.id = $1`,[s]);if(!t||0===t.rowCount)return{session:null,user:null};let r=t.rows[0],a=await (0,c.A)(r.slug,!0);if(!a.success||!a.user)return{session:null,user:null};let l={id:r.session_id,userId:r.user_id,createdAt:new Date(r.session_created_at.toISOString()),expiresAt:new Date(r.expires_at.toISOString())},u=new Date(l.expiresAt);return Date.now()>=u.getTime()?(await (0,n.P)("DELETE FROM user_sessions WHERE id = $1",[l.id]),{session:null,user:null}):(Date.now()>=u.getTime()-2592e6&&(l.expiresAt=new Date(Date.now()+2592e6),await (0,n.P)("UPDATE user_sessions SET expires_at = $1 WHERE id = $2",[l.expiresAt,l.id])),{session:l,user:a.user})}(0,u.D)([d]),(0,r.A)(d,"40f6de09ec2822252f3fdfc0bb278e4ae125d2c60a",null);let f=(0,l.cache)(async()=>{let e=await (0,a.UL)(),s=e.get("session")?.value??null;return null===s?{session:null,user:null}:await d(s)});(0,u.D)([f]),(0,r.A)(f,"7f5f553b95b32f91fbfa62b02a301ed5755c7b9bb6",null)},96856:(e,s,t)=>{"use strict";function r(e){return String(e).charAt(0).toUpperCase()+String(e).slice(1)}t.d(s,{A:()=>r})},44994:()=>{}};